!function(){"use strict";var e=document.getElementById("pageLoader");e&&window.addEventListener("load",function(){setTimeout(function(){e.classList.add("hidden")},300)});var t=document.getElementById("themeToggle"),n=localStorage.getItem("theme");n&&document.documentElement.setAttribute("data-theme",n),t&&t.addEventListener("click",function(){var e="light"===document.documentElement.getAttribute("data-theme")?"dark":"light";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)});var i=document.createElement("button");i.className="back-to-top",i.setAttribute("aria-label","Retour en haut"),document.body.appendChild(i),window.addEventListener("scroll",function(){window.pageYOffset>500?i.classList.add("visible"):i.classList.remove("visible")}),i.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var a=document.querySelectorAll(".stat-number");if(a.length>0&&"IntersectionObserver"in window){var o=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var n=e.target,i=parseInt(n.getAttribute("data-target"),10),a=null;function o(e){a||(a=e);var t=Math.min((e-a)/2e3,1),r=1-Math.pow(1-t,3);n.textContent=Math.floor(r*i),t<1?requestAnimationFrame(o):n.textContent=i}requestAnimationFrame(o),t.unobserve(n)}})},{threshold:.5});a.forEach(function(e){e.textContent="0",o.observe(e)})}var r=document.getElementById("navToggle"),c=document.getElementById("mobileMenu");r&&c&&(r.addEventListener("click",function(){var e=c.classList.toggle("active");r.classList.toggle("active"),r.setAttribute("aria-expanded",e),r.setAttribute("aria-label",e?"Fermer le menu":"Ouvrir le menu"),c.setAttribute("aria-hidden",!e)}),c.querySelectorAll(".mobile-menu-link").forEach(function(e){e.addEventListener("click",function(){c.classList.remove("active"),r.classList.remove("active"),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-label","Ouvrir le menu"),c.setAttribute("aria-hidden","true")})})),document.querySelectorAll(".season-btn").forEach(function(e){e.addEventListener("click",function(){var e=this.nextElementSibling,t=this.classList.contains("active");document.querySelectorAll(".season-btn").forEach(function(e){e.classList.remove("active"),e.nextElementSibling&&e.nextElementSibling.classList.remove("active")}),t||(this.classList.add("active"),e&&e.classList.add("active"))})});var l=document.querySelectorAll(".fade-in");if(l.length>0&&"IntersectionObserver"in window){var s=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});l.forEach(function(e){s.observe(e)})}else l.forEach(function(e){e.classList.add("visible")});document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){var t=this.getAttribute("href");if("#"!==t){var n=document.querySelector(t);if(n){e.preventDefault();var i=document.querySelector(".nav").offsetHeight;window.scrollTo({top:n.getBoundingClientRect().top+window.pageYOffset-i,behavior:"smooth"})}}})});var d=document.getElementById("nav");d&&window.addEventListener("scroll",function(){var e="light"===document.documentElement.getAttribute("data-theme");window.pageYOffset>100?d.style.background=e?"rgba(232, 232, 232, 0.98)":"rgba(10, 10, 10, 0.98)":d.style.background=e?"rgba(232, 232, 232, 0.95)":"rgba(10, 10, 10, 0.95)"});var u=document.querySelectorAll(".gallery-item");if(u.length>0){var v=[],m=0;u.forEach(function(e){v.push({src:e.getAttribute("href"),alt:e.querySelector("img")?e.querySelector("img").getAttribute("alt"):""})});var g=document.createElement("div");g.className="lightbox",g.innerHTML='<div class="lightbox-content"><span class="lightbox-counter"></span><button class="lightbox-close" aria-label="Fermer">&times;</button><button class="lightbox-nav lightbox-prev" aria-label="Précédent">&#10094;</button><img class="lightbox-image" src="" alt=""><button class="lightbox-nav lightbox-next" aria-label="Suivant">&#10095;</button><div class="lightbox-caption"></div></div>',document.body.appendChild(g);var h=g.querySelector(".lightbox-image"),b=g.querySelector(".lightbox-caption"),f=g.querySelector(".lightbox-counter"),E=g.querySelector(".lightbox-close"),L=g.querySelector(".lightbox-prev"),y=g.querySelector(".lightbox-next");function w(e){m=e,S(),g.classList.add("active"),document.body.style.overflow="hidden"}function A(){g.classList.remove("active"),document.body.style.overflow=""}function S(){var e=v[m];h.src=e.src,h.alt=e.alt,b.textContent=e.alt,f.textContent=m+1+" / "+v.length}function k(){m=(m+1)%v.length,S()}function q(){m=(m-1+v.length)%v.length,S()}u.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),w(t)})}),E.addEventListener("click",A),y.addEventListener("click",k),L.addEventListener("click",q),g.addEventListener("click",function(e){e.target===g&&A()}),document.addEventListener("keydown",function(e){g.classList.contains("active")&&("Escape"===e.key?A():"ArrowRight"===e.key?k():"ArrowLeft"===e.key&&q())});var p=0,x=0;g.addEventListener("touchstart",function(e){p=e.changedTouches[0].screenX},{passive:!0}),g.addEventListener("touchend",function(e){x=e.changedTouches[0].screenX;var t=p-x;Math.abs(t)>50&&(t>0?k():q())},{passive:!0})}}();